Endpoints
=========

All endpoints are relative to the API's domain name, in the case of the official API, :code:`api.c20.academy`.
Each endpoint corresponds to a single data type, and parameters should be passed as URL-encoded query parameters, e.g. :code:`/v1/article?id=1`.

.. note::

  All endpoints are currently at version 1, but this may change in the future. If an endpoint stops responding, check back here in case there is a new version.

/v1/article
-----------

Returns a single article from the database, as per it's ID.

.. list-table:: Arguments
  :header-rows: 0

  * - | id
      | REQUIRED
    - A positive integer representing the ID of an article in the database

.. list-table:: Return Values
  :header-rows: 0

  * - | :code:`generatedAt`
      | REQUIRED
    - An ISO 8601 formatted time representing when the response was generated by the server
  * - | :code:`result`
      | OPTIONAL
    - Contains :code:`null` if the ID is invalid or not found, otherwise the values from the database corresponding to the ID of the request
  * - | :code:`result.id`
      | REQUIRED
    - The database ID of the article
  * - | :code:`result.title`
      | REQUIRED
    - The title of the article, which should be displayed at the top of the article
  * - | :code:`result.date`
      | REQUIRED
    - The date the article was published to the API
  * - | :code:`result.scripture`
      | REQUIRED
    - The actual main text of the article, in Markdown
  * - | :code:`result.references`
      | REQUIRED
    - An array of references for the content of the article
  * - | :code:`result.references[].id`
      | REQUIRED
    - The database ID of the reference
  * - | :code:`result.references[].author`
      | REQUIRED
    - The author of the referenced material
  * - | :code:`result.references[].title`
      | REQUIRED
    - The title of the referenced material
  * - | :code:`result.references[].publication_date`
      | OPTIONAL
    - The date of publication of the referenced material
  * - | :code:`result.references[].url`
      | OPTIONAL
    - The url of the referenced material, if it is an internet resource

Example
+++++++

Request::

  /v1/article?id=1

Returns::

  {
    "generatedAt": "2024-03-17T15:22:30.608065",
    "result": {
      "id": 1,
      "title": "Irish War of Independence",
      "date": "2024-03-11T00:00:00.000Z",
      "scripture": "Dummy Text",
      "references": [
        {
          "id": 1,
          "author": "John Smith",
          "title": "The Irish War of Independence and it's consequences",
          "publication_date": "1990-01-01T00:00:00.000Z",
          "url": null,
        }
      ]
    }
  }

/v1/article/search
-----------

Returns a list of articles which match the search term

.. list-table:: Arguments
  :header-rows: 0

  * - | q
      | REQUIRED
    - A search term which article titles should be matched against

.. list-table:: Return Values
  :header-rows: 0

  * - | :code:`generatedAt`
      | REQUIRED
    - An ISO 8601 formatted time representing when the response was generated by the server
  * - | :code:`results`
      | REQUIRED
    - An array of articles which match the search term
  * - | :code:`results[].id`
      | REQUIRED
    - The database ID of the article
  * - | :code:`results[].title`
      | REQUIRED
    - The title of the article, which matched the search term
  * - | :code:`results[].date`
      | REQUIRED
    - The date the article was published to the API

Example
+++++++

Request::

  /v1/article/search?q=irish

Returns::

  {
    "generatedAt": "2024-03-17T16:02:22.271464",
    "results": [
      {
        "id": 1,
        "title": "Irish War of Independence",
        "date": "2024-03-11T00:00:00.000Z"
      }
    ]
  }